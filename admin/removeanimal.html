<head>
  <title> Admin View </title>
  <link rel="stylesheet" href="/styles.css">
  <!-- including the js functions we made to query the db -->
</head>
<body class="delete-page">
  <div class="nav">
    <button class="back-button" onclick="window.location.href='/admin/home'">Back</button>
  </div>
  <div class="navspacer"></div>

  <div class="edit-page">

    <!-- left panel animal list -->
    <div class="left-panel">

      <label class="search-label">Search:</label>
      <input id="search-input" class="search-box" type="text" placeholder="name of pet">
      <!--insert animals-->
      <div id="animal-list"></div>

    </div>
     <!-- right panel: preview + delete controls -->
   <div class="right-panel">
    <div id="animal-detail-container" class="animal-detail-card">
      <p>Select an animal on the left to see its details.</p>
    </div>

    <div class="button-row">
      <button type="button" class="delete-button" onclick="showModal()">Delete</button>
    </div>
  </div>

  

  <!-- DELETE CONFIRM MODAL -->
  <div id="delete-modal" class="modal-overlay">
    <div class="modal-box">
      <p>Are you sure you want to remove <span id="modal-animal-name">this animal</span>?</p>

      <div class="modal-buttons">
        <button class="cancel-button" onclick="hideModal()">Cancel</button>
        <button id="confirm-delete" class="confirm-button">Yes, Remove</button>
      </div>
    </div>
  </div>
 
<script type="module">
  import { loadAndShow, adoptAnimal, loadPreview, getSelectedID,setSelectedID } from '/js/adminRemoveHandlers.js';
        
  // let allAnimals = [];
  // let selectedAnimalId = null;

  // -page load
  document.addEventListener("DOMContentLoaded", () => {
    loadAndShow();
    
    // setUpSearch();
    setUpDeleteButtons();
  });






// DELETE AND MODEA;
function setUpDeleteButtons() {
  const confirmBtn = document.getElementById("confirm-delete");
  if (confirmBtn) {
    confirmBtn.addEventListener("click", async () => {
      const selectedID = await getSelectedID();
      await adoptAnimal(selectedID); 
      setSelectedID(null);
      loadAndShow();
      loadPreview(-1);
    });
  }
}



</script>

</body> 

 